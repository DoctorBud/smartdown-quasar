"use strict";(globalThis["webpackChunksmartdown_quasar"]=globalThis["webpackChunksmartdown_quasar"]||[]).push([[867],{18914:(e,l,a)=>{a.d(l,{Z:()=>s});var t=a(59835);const n={class:"q-mr-auto q-ml-auto"};function o(e,l){return(0,t.wg)(),(0,t.iD)("div",n,[(0,t.WI)(e.$slots,"default")])}var i=a(11639);const u={},r=(0,i.Z)(u,[["render",o]]),s=r},34867:(e,l,a)=>{a.r(l),a.d(l,{default:()=>D});var t=a(59835),n=a(86970);const o=(0,t._)("hr",null,null,-1),i={key:0},u=["href"],r=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"Filename"),(0,t._)("th",null,"Language"),(0,t._)("th",null,"URL"),(0,t._)("th",null,"Actions")])],-1),s=["href"],d=(0,t._)("hr",null,null,-1),c=["textContent"],m=(0,t._)("span",{class:"q-ml-sm"},"Login to GitHub.",-1);function p(e,l,a,p,g,w){const f=(0,t.up)("q-img"),b=(0,t.up)("q-btn"),_=(0,t.up)("q-card-section"),v=(0,t.up)("q-card"),k=(0,t.up)("q-expansion-item"),h=(0,t.up)("q-list"),y=(0,t.up)("q-card-actions"),C=(0,t.up)("q-dialog"),W=(0,t.up)("q-avatar"),q=(0,t.up)("q-input"),x=(0,t.up)("Container"),V=(0,t.up)("q-page"),Z=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(V,{padding:""},{default:(0,t.w5)((()=>[(0,t.Wm)(x,null,{default:(0,t.w5)((()=>[(0,t._)("h3",null,[(0,t.Wm)(f,{src:"img/Octocat.png",style:{"max-width":"100px"}}),(0,t.Uk)(" GitHub ")]),o,e.loggedIn?((0,t.wg)(),(0,t.iD)("h4",i,[(0,t.Uk)(" Logged in as "),(0,t._)("b",null,(0,n.zw)(e.githubUsername),1)])):(0,t.kq)("",!0),e.loggedIn?((0,t.wg)(),(0,t.j4)(b,{key:1,onClick:e.getGists,flat:"",label:"List Gists",color:"primary"},null,8,["onClick"])):(0,t.kq)("",!0),(0,t.Wm)(h,{bordered:"",class:"rounded-borders"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.gists,((l,a)=>((0,t.wg)(),(0,t.j4)(k,{"expand-separator":"",label:l.name,caption:l.owner.login,modelValue:l.expanded,"onUpdate:modelValue":e=>l.expanded=e,key:a},{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[(0,t.Wm)(f,{src:l.owner.avatar_url,style:{"max-width":"40px"}},null,8,["src"]),(0,t._)("a",{href:l.html_url,target:"_blank"},(0,n.zw)(l.description),9,u),(0,t._)("table",null,[r,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.files,((a,o)=>((0,t.wg)(),(0,t.iD)("tr",{key:o},[(0,t._)("td",null,(0,n.zw)(a.filename),1),(0,t._)("td",null,(0,n.zw)(a.language),1),(0,t._)("td",null,[(0,t._)("a",{href:a.raw_url,target:"_blank"},(0,n.zw)(a.filename),9,s)]),(0,t._)("td",null,[(0,t.Wm)(b,{onClick:t=>e.previewGistFile(l,a),label:"View",size:"sm",color:"primary"},null,8,["onClick"]),(0,t.Wm)(b,{onClick:t=>e.importGistFile(l,a),label:"Import",size:"sm",color:"primary"},null,8,["onClick"])])])))),128))])])])),_:2},1024)])),_:2},1024)])),_:2},1032,["label","caption","modelValue","onUpdate:modelValue"])))),128))])),_:1}),d,e.loggedIn?((0,t.wg)(),(0,t.j4)(b,{key:2,onClick:e.logout,flat:"",label:"Logout of GitHub",color:"primary"},null,8,["onClick"])):((0,t.wg)(),(0,t.j4)(b,{key:3,onClick:e.getCredentials,flat:"",label:"Login to GitHub",color:"primary"},null,8,["onClick"])),(0,t.Wm)(C,{modelValue:e.preview,"onUpdate:modelValue":l[0]||(l[0]=l=>e.preview=l),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t._)("pre",{style:{border:"1px solid lightblue",padding:"5px"},textContent:(0,n.zw)(e.previewText)},null,8,c),(0,t.Wm)(y,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(b,{onClick:e.cancelPreview,flat:"",label:"Done",color:"primary"},null,8,["onClick"]),[[Z]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(C,{modelValue:e.confirm,"onUpdate:modelValue":l[3]||(l[3]=l=>e.confirm=l),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(_,{class:"row items-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{icon:"check",color:"primary","text-color":"white"}),m])),_:1}),(0,t.Wm)(q,{modelValue:e.githubUsername,"onUpdate:modelValue":l[1]||(l[1]=l=>e.githubUsername=l),label:"Username",filled:""},null,8,["modelValue"]),(0,t.Wm)(q,{modelValue:e.githubToken,"onUpdate:modelValue":l[2]||(l[2]=l=>e.githubToken=l),label:"Token",filled:""},null,8,["modelValue"]),(0,t.Wm)(y,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(b,{onClick:e.cancel,flat:"",label:"Never Mind",color:"primary"},null,8,["onClick"]),[[Z]]),(0,t.wy)((0,t.Wm)(b,{onClick:e.login,flat:"",label:"Login to GitHub",color:"primary"},null,8,["onClick"]),[[Z]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}a(69665);var g=a(60499),w=a(28339),f=a(90913),b=a(18914),_=a(85335),v=a(20367);const k=(0,t.aZ)({components:{Container:b.Z},name:"GitHub",setup(){const e=(0,g.iH)(!1),l=(0,g.iH)("OddCutOrb"),a=(0,g.iH)(""),n=(0,g.iH)(!1),o=(0,g.iH)([]),i=(0,g.iH)(!1),u=(0,g.iH)(""),r=(0,w.tv)(),s=(0,v.o)(),d=(0,t.Fl)({get:()=>s.getEditMode.value,set:s.updateEditMode}),c=async()=>{const e=new f.v({}),a=await e.request(`GET /users/${l.value}/gists`,{});o.value=a.data.map((e=>({...e,expanded:!0,name:e.files[Object.keys(e.files)[0]].filename}))).reverse()},m=async(e,l)=>{const a=await fetch(l,{});return a.text()},p=async(e,l)=>{const{filename:a}=l,t=l.raw_url,n=await m(a,t);u.value=await n,i.value=!0},b=async(e,l)=>{const a=e.description,{filename:t}=l,n=l.raw_url,o=await m(t,n),i=new Date,u=t.endsWith(".md")?t.split(".").slice(0,-1).join("."):t,s=`${e.owner.login}/${a}/${u}`,c=`GitHub Gist imported from ${e.html_url}`,p=(0,_.nU)(s);if(p)p.content=o;else{const e={title:s,description:c,content:o,createdAt:i,updatedAt:i};(0,_.AL)(e)}d.value.detailed=!0,r.push(`/note/${s}`)},k=()=>{console.log("#cancel"),e.value=!1},h=()=>{i.value=!1},y=async()=>{console.log("#getCredentials"),e.value=!0},C=async()=>{console.log("#login",l.value,a.value),e.value=!1,n.value=!0,await(0,t.Y3)(),await c()},W=async()=>{console.log("#logout"),n.value=!1,o.value=[]};return(0,t.bv)((async()=>{await C()})),{loggedIn:n,githubUsername:l,githubToken:a,gists:o,getCredentials:y,login:C,logout:W,getGists:c,previewGistFile:p,importGistFile:b,preview:i,cancelPreview:h,previewText:u,confirm:e,cancel:k}}});var h=a(11639),y=a(69885),C=a(70335),W=a(24455),q=a(13246),x=a(44861),V=a(44458),Z=a(63190),G=a(74870),H=a(11821),U=a(61357),Q=a(64152),L=a(62146),I=a(69984),T=a.n(I);const z=(0,h.Z)(k,[["render",p]]),D=z;T()(k,"components",{QPage:y.Z,QImg:C.Z,QBtn:W.Z,QList:q.Z,QExpansionItem:x.Z,QCard:V.Z,QCardSection:Z.Z,QDialog:G.Z,QCardActions:H.Z,QAvatar:U.Z,QInput:Q.Z}),T()(k,"directives",{ClosePopup:L.Z})}}]);